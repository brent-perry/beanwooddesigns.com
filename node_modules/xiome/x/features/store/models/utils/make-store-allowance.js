import { ops } from "../../../../framework/ops.js";
import { storePrivileges } from "../../store-privileges.js";
export function makeStoreAllowance(state) {
    const has = (key) => {
        var _a, _b;
        const privileges = (_b = (_a = ops.value(state.readable.user.accessOp)) === null || _a === void 0 ? void 0 : _a.permit.privileges) !== null && _b !== void 0 ? _b : [];
        return privileges.includes(storePrivileges[key]);
    };
    return {
        get manageStore() { return has("manage store"); },
        get connectStripeAccount() { return has("control stripe account"); },
        get giveAwayFreebies() { return has("give away freebies"); },
    };
}
//# sourceMappingURL=make-store-allowance.js.map